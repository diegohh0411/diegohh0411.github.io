<div
class="bg-gray-100
m-4 p-4 rounded-2xl
flex flex-col gap-3
max-w-3xl md:mx-auto
">
  <h1 class="text-6xl">
    {{postMapping.title}}
  </h1>

  <p>
    Publicado el {{(postMapping.publishDateISO8601).toLocaleDateString('es-MX')}}
  </p>

  <div class="flex flex-row gap-3">
      <div *ngFor="let tag of postMapping.tags"
      class="px-4 py-1
      bg-gray-200 hover:bg-gray-300 active:bg-gray-400
      rounded-2xl
      cursor-pointer"

      [routerLink]="['/archive']"
      [queryParams]="{ tag: tag }"
      >
        #{{tag}}
      </div>
  </div>
</div>

<div class="mx-4
max-w-3xl md:mx-auto
text-justify">
  <markdown class="markdown">
    {{postMapping.content}}
  </markdown>
</div>

<div *ngIf="!hintIsHidden && this.postMapping.imageFilenames.length !== 0"
class="
bg-blue-100 rounded-2xl
m-4 p-4
flex items-center justify-between gap-4
max-w-3xl md:mx-auto
">
  <p>
    Puedes hacer clic en cualquier imagen para abrirla en pantalla completa.
  </p>

  <svg
  (click)="hideHint()"
  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
   class="w-12 h-12
   md:w-6 md:h-6
   cursor-pointer">
    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
  </svg>
</div>

<div class="flex flex-col
gap-[50vh]
pt-6 pb-[50vh]
px-4
relative
"
id="imageContainer"
>
  <img *ngFor="let image of postMapping.imageFilenames"
  [src]="'assets/' + image + (md ? '_full.jpg' : '_800.jpg')"
  class="w-2/3 md:w-1/6
  object-contain max-h-[80vh]
  cursor-pointer
  sticky
  transition-all ease-in-out duration-[5000ms]
  shadow-2xl
  "

  [alt]="'Fotografía de Diego Hernández del álbum ' + postMapping.title + '.'"

  [style.left]="math.random() * (md ? 80 : 34) + '%'"
  [style.top]="math.random() * 20 +  20 + 'vh'"

  [routerLink]="'/g/' + postUuid + '/' + image.replace('.', '%2E')"
  />
</div>
