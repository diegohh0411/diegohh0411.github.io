<div
class="rounded-xl
flex flex-col items-center justify-between gap-6
p-4
absolute inset-0 h-screen max-h-screen z-40
bg-white dark:bg-gray-800
"
>
  <div class="w-full
  flex flex-col items-center justify-center gap-6
  ">
    <div class="w-full max-w-lg
    flex items-center justify-between gap-3
    flex-none
    ">
      <div class="flex flex-row items-center justify-center gap-1 p-2
      cursor-pointer
      rounded-xl
      bg-gray-100 hover:bg-gray-200 active:bg-gray-300
      dark:bg-gray-700 dark:hover:bg-gray-600 dark:active:bg-gray-500
      "
           [routerLink]="'/p/' + postUuid"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
          <path fill-rule="evenodd" d="M12.5 9.75A2.75 2.75 0 0 0 9.75 7H4.56l2.22 2.22a.75.75 0 1 1-1.06 1.06l-3.5-3.5a.75.75 0 0 1 0-1.06l3.5-3.5a.75.75 0 0 1 1.06 1.06L4.56 5.5h5.19a4.25 4.25 0 0 1 0 8.5h-1a.75.75 0 0 1 0-1.5h1a2.75 2.75 0 0 0 2.75-2.75Z" clip-rule="evenodd" />
        </svg>

        <p>Regresar al álbum</p>
      </div>

      <p class="hidden md:block">
        Foto no. {{currentIndex + 1}}/{{postMapping.imageFilenames.length}}
      </p>

      <a [href]="'assets/' + filename + '_1000.jpg'" [download]="filename">
          <div class="
          bg-blue-100 hover:bg-blue-200 active:bg-blue-300
          dark:bg-blue-900 dark:hover:bg-blue-800 dark:active:bg-blue-700
          p-2 rounded-xl
          flex flex-row items-center justify-center gap-1
          ">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
              <path d="M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z" />
              <path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z" />
            </svg>
            <p>Descargar</p>
          </div>
        </a>
      </div>
  </div>

  <div class="relative">
    <img
    [defaultImage]="'assets/' + filename + '_400.jpg'"
    [lazyLoad]="'assets/' + filename + '_1000.jpg'"

    [alt]="'Fotografía por Diego Hernández del álbum ' + postMapping.title"

    class="
    h-[75svh] object-contain
    drop-shadow-2xl"
      [ngClass]="[
      loading ? 'opacity-20' : ''
    ]"

    (load)="loading = false; goingToSetToTrue = false"
    />

    <div *ngIf="loading"
    class="absolute inset-0
    flex items-center justify-center
    bg-black/40
    ">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
      class="w-6 h-6 animate-spin">
        <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
      </svg>
    </div>
  </div>

  <div class="grid grid-cols-2 items-center w-full
  max-w-lg
  flex-none
  ">
    <div class="
    flex items-center justify-center
    p-2 rounded-l-2xl
    bg-gray-200 dark:bg-gray-600
    cursor-pointer
    "
    (click)="move('prev')"
    [ngClass]="[
      currentIndex === 0 || loading
      ?
      'opacity-40'
      :
      'hover:bg-gray-300 active:bg-gray-400 ' +
      'dark:hover:bg-gray-500 dark:active:bg-gray-400'
    ]"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 15.75 3 12m0 0 3.75-3.75M3 12h18" />
      </svg>
    </div>

    <div class="
    flex items-center justify-center
    p-2 rounded-r-2xl
    bg-gray-200 dark:bg-gray-600
    cursor-pointer
    "
    (click)="move('next')"
    [ngClass]="[
      currentIndex === postMapping.imageFilenames.length - 1 || loading
      ?
      'opacity-40'
      :
      'hover:bg-gray-300 active:bg-gray-400 ' +
      'dark:hover:bg-gray-500 dark:active:bg-gray-400'
    ]"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3" />
      </svg>
    </div>
  </div>

</div>
